<!DOCTYPE html>
<html>
  <head>
    <title>Space Invaders Study!</title>
  </head>
  <body>
    <h1> Testing</h1>
    <iframe id="myIframe" allow="camera" width=1050 height=400></iframe>
    <p></p>
    <a href="practice_intro.html"> Next </a>
</body>
<script>
    function findGetParameter(parameterName) {
        var result = null,
            tmp = [];
        var items = location.search.substr(1).split("&");
        for (var index = 0; index < items.length; index++) {
            tmp = items[index].split("=");
            if (tmp[0] === parameterName) result = tmp[1];
        }
        return result;
    }
    let cam_port = "8777"
    let cam_url = "http://localhost:"+cam_port+"/"
    let player_id = findGetParameter('id') ? findGetParameter('id') : 'UNDEFINED';
    let full_url = cam_url+"?id="+player_id
    
    let myIframe = document.getElementById("myIframe")
    myIframe.src = full_url
</script>

    <script>
    var all_params = window.location.href.split('?')[1];
    var a = document.getElementsByTagName('a');
    for (var i=0; i < a.length; i++){
        a[i].href+="?";
        a[i].href+=all_params;
        console.log(a[i].href);
    }
    </script>
</html>